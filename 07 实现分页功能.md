# 实现 分页功能

目录

1 [需求 逻辑步骤](#1)

2 [实际 代码参考](#2)



## <span id="1"> 1 需求 逻辑步骤 </span>

1 Q: 分页组件有哪些功能

A: 

S1 默认显示: 首页 + 1~5页点击 + ......页数 + [尾页]

S2.1 当前点击页数>=4时，显示新页数 和 双......页数

S2.2 显示的新页数，可根据首页来增减对应的index

S4 点击首页，变成最初的默认显示样式

S5 点击下一页,页面index选中下一页


2 Q: 如何实现 分页页数正确显示

1 A: 

S1 静态样式书写

S2 遍历渲染出 初始页数据pageIndex(1-5), 完成默认显示

S3 监听渲染出的pageIndex的点击事件: 

S3.1 当点击的index内容>=4后，点击的必定是数组中心内容[i-2,i-1,i, ...]

S3.2 当前page激活态: 通过当前index和点击index  动态绑定active类 + 修改当前index值


S4 通过v-if控制渲染前一个...内容: 当index>=4后，出现...部分


S5 监听首页、下一页部分:

S5.1 点击首页时， index内容恢复为 最初的1-5

S5.2 点击下一页时，当前index都是在数组中排第2，即[i-1, i, i+1, i+2, i+3...]



3 Q: 如何实现点击分页页数后，显示内容对应变化

A:

S1 获取内容的后台接口，提供了页数参数page，这是前提

S2 分页子组件中有 记录了当前的页数的 变量currentIndex

S3 子组件传给父组件变量值 + 父组件接收到变量后，保存并传入请求接口的 page中





## <span id=""> 2 实际 代码参考 </span>

参考代码可见:

01 [侧边栏路由参数跳转](https://github.com/gmYuan/cNode/blob/master/src/components/Article.vue)