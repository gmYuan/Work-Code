# 列表页跳转详情页 

目录

1 [列表页跳转详情页](#1)


## <span id="1"> 1 列表页跳转详情页 </span>

1 Q: 如何实现 点击列表页后跳转详情页

A: S0 href + id查询参数

S1.1 后台列表页上传歌曲时，主要是通过七牛API实现的, 使用七牛上传歌曲时，会传出由七牛生成的歌曲名+外链

S1.2 在后台详情区编辑了信息后，其歌曲名、歌手、外链就存入了leanCloud数据库中

S1.3 存入leanCloud数据库中的字段，会自动生成一个id值

S1.4 渲染歌曲列表页时，其歌曲数据信息是 通过leanCloud的API，从数据库中读取获得的

S1.5 所以获得的歌曲数据，其实包含了song.id信息


S2 列表项是一个标签，里面的href指向 详情页+包含详情id的查询参数
 
S3 id查询参数的值可以从song.id读取 + 创建一个 `详情页.html`



2 Q: 如何实现 获取url查询参数中的id值

A: S0 window.loaction.search + 数组/字符串相关方法(filter / indexOf、split)

S1通过window.loaction.search 获取查询参数(参数字符串)的所有内容，包括?符号

S2.1 如果?存在，则用获取 去除?的查询参数内容

S2.2 根据&符号分解字符串 & 去除因为&&分解出的数组内空项

S2.3 遍历处理数组内的字符串 + 根据= 分解字符串，分别保存key-value + 根据key保存id-value

S3 把获取的id存入到model中,便于之后根据id 到leancloud 获取该歌曲的其他信息


3 Q: 如何实现根据leancloud数据库的 某字段id，获取到该字段的其他属性值

A: S0 leanCloud查询数据的API + 用object.assign 存入model.data

S1 根据leanCloud，查看根据id 获取字段数据的方法

S2 获取到该歌曲的信息后，把返回的信息存入到本地 model.data中，以便页面渲染使用

S3 以上功能，封装成 model.getsong()
