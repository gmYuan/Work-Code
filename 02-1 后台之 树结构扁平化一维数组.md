# 树结构扁平化一维数组

目录

1 [预读文档](#1)

2 [需求代码](#2)


## <span id="1"> 1 预读文档 </span>

1 [扁平数组与JSON树结构互转](https://juejin.im/post/5ce2832c6fb9a07eb67d61e7)

2 [Array对象](https://wangdoc.com/javascript/stdlib/array.html#concat)

阅读原因: 直接参考文档



## <span id="2"> 2 需求代码 </span>

1 Q: 如何实现 树结构扁平化为 一维数组

1 A:

S1 当children.length === 0时, 加入到数组中

S2 否则先加入到数组，然后传入children递归调用flat函数


2 理解递归的最佳方法是: 参考实现 + 递归条件 + 最短复杂情况


3 具体代码见下:

```js

// 扁平化权限树

// 方法1: 
_flatTree(trees) {

return trees.reduce( (arr, { title, permissionId, children = []} ) =>
		arr.concat( [{ title, permissionId }], this._flatTree(children) )
	, [])
}


// 方法2:

_flatTree(trees) {
  for (let item of trees) {
    if (item.children.length === 0) {
      this.flatTreeList.push(item)
		} else {
			this.flatTreeList.push(item)
			this.flatTreeList.concat(this._flatTree(item.children))
		}
	}
}
```